<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width = device-width, initial-scale = 1">

    <title>Mechanism Browser</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<div class="container">
    <div class="page-header">
        <h1>Mechanism Browser</h1>
    </div>
</div>

<div class="container">
    <div class="row">
        <form class="column">
            <h2>Input</h2>
            <div class="form-group row">
                <label for="inputR1" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r1.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputR1" placeholder="rotation x">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputR2" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r2.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputR2" placeholder="rotation y">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputR3" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r3.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputR3" placeholder="rotation z">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputT1" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t1.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputT1" placeholder="translation x">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputT2" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t2.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputT2" placeholder="translation y">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputT3" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t2.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="inputT3" placeholder="translation z">
                </div>
            </div>
        </form>
        <form class="column">
            <h2>Output</h2>
            <div class="form-group row">
                <label for="outputR1" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r1.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputR1" placeholder="rotation x">
                </div>
            </div>

            <div class="form-group row">
                <label for="outputR2" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r2.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputR2" placeholder="rotation y">
                </div>
            </div>

            <div class="form-group row">
                <label for="outputR3" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/r3.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputR3" placeholder="rotation z">
                </div>
            </div>

            <div class="form-group row">
                <label for="outputT1" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t1.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputT1" placeholder="translation x">
                </div>
            </div>

            <div class="form-group row">
                <label for="outputT2" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t2.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputT2" placeholder="translation y">
                </div>
            </div>

            <div class="form-group row">
                <label for="outputT3" class="col-sm-2 col-form-label">
                    <img class="icon" src="icons/t3.png" align="left">
                </label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="outputT3" placeholder="translation z">
                </div>
            </div>
        </form>
    </div>

    <div class="form-group row">
        <label for="transmission" class="col-sm-2 col-form-label">
            Transmission
        </label>
        <div class="col-sm-10">
            <input type="number" class="form-control" id="transmission" placeholder="number">
        </div>
    </div>

    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">
            Name
        </label>
        <div class="col-sm-10">
            <input type="search" class="form-control" id="name" placeholder="text">
        </div>
    </div>

    <span class="input-group-btn">
            <button class="btn btn-default"
                    type="button"
                    onclick="searchMechanism()">
                Search
            </button>
            <script>
                function searchMechanism() {
/*                    const params = {
                        input: {
                            inputR1: document.querySelector("#inputR1").value,
                            inputR2: document.querySelector("#inputR2").value,
                            inputR3: document.querySelector("#inputR3").value,
                            inputT1: document.querySelector("#inputT1").value,
                            inputT2: document.querySelector("#inputT2").value,
                            inputT3: document.querySelector("#inputT3").value
                        },
                        output: {
                            outputR1: document.querySelector("#outputR1").value,
                            outputR2: document.querySelector("#outputR2").value,
                            outputR3: document.querySelector("#outputR3").value,
                            outputT1: document.querySelector("#outputT1").value,
                            outputT2: document.querySelector("#outputT2").value,
                            outputT3: document.querySelector("#outputT3").value
                        },
                        transmission: document.querySelector("#transmission").value,
                        name: document.querySelector("#name").value
                    };*/

                    const xhttp = new XMLHttpRequest();
                    xhttp.open('GET', 'http://127.0.0.1:8000/api/mechanisms/');
                    xhttp.setRequestHeader('Content-type', 'application/json');
                    xhttp.send();
                    xhttp.onreadystatechange = function() {
                        if (xhttp.readyState == 4 && xhttp.status == 200) {
                            const response = JSON.parse(xhttp.responseText);
                            const list = document.getElementById('mechanisms');
                            list.innerHTML = '';

                            for (mechanism of Object.keys(response)) {
                                const entry = document.createElement('li');
                                entry.appendChild(document.createTextNode(mechanism));
                                list.appendChild(entry);
                            }
                        }
                    };
                    // xhttp.send(JSON.stringify(params));
                }
            </script>
        </span>
</div>

<br/>

<div class="container">
    <ol id="mechanisms">
    </ol>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</body>
</html>
